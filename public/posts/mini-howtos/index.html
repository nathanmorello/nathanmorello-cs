<!doctype html><html lang=en dir=auto data-theme=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè' |</title><meta name=keywords content="Linux,Zettelkasten,Bash,System Administration"><meta name=description content="A small Bash script for fast sysadmin notes"><meta name=author content="Nathan Morello"><link rel=canonical href=http://localhost:1313/posts/mini-howtos/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/mini-howtos/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XXXXXXXXXX")}</script><meta property="og:url" content="http://localhost:1313/posts/mini-howtos/"><meta property="og:site_name" content="Nathan Morello's Curious Stack"><meta property="og:title" content="Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè'"><meta property="og:description" content="A small Bash script for fast sysadmin notes"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-10-30T23:35:19+01:00"><meta property="article:modified_time" content="2025-10-30T23:35:19+01:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Zettelkasten"><meta property="article:tag" content="Bash"><meta property="article:tag" content="System Administration"><meta property="og:image" content="http://localhost:1313/images/doubtfulman.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/images/doubtfulman.jpg"><meta name=twitter:title content="Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè'"><meta name=twitter:description content="A small Bash script for fast sysadmin notes"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè'","item":"http://localhost:1313/posts/mini-howtos/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè'","name":"Mini Howtos \u0027ÔººÔºà„Äá_ÔΩèÔºâÔºè\u0027","description":"A small Bash script for fast sysadmin notes","keywords":["Linux","Zettelkasten","Bash","System Administration"],"articleBody":" Anyone who‚Äôs worked as a sysadmin knows this: sometimes you only manage to solve a problem after half an hour (or more) of searching on Stack Overflow or repeatedly tweaking configurations. Then, finally, you get it working.\n‚Ä¶And the next time, you can‚Äôt remember how you did it!\nTo avoid losing all this hard-earned knowledge, for several years I kept a single text file called ‚ÄúEveryday-troubleshoot‚Äù. It worked, but it wasn‚Äôt practical. Every time I had to:\nRemember where I put the file. Look through a sort of ‚Äútable fo content‚Äù I kept at the beginning of the first page. Find the topic. Try the noted solution. Possibly update it. Update the table of content‚Ä¶ It was long and tedious that sometimes I‚Äôd postpone updating it with a new note, because I just didn‚Äôt have time‚Ä¶ and end up right back where I started.\nThen two things happened:\nI read How to Take Smart Notes by S√∂nke Ahrens, discovering the work of Niklas Luhmann and his Zettelkasten Method, as well as its adaptationsin the digital world, which made me realize the value of (very) short and well-crafted notes;\nI decided to improve my knowledge of Bash, because it‚Äôs one of the fundamental tools for both Linux administration and for building a career in the DevOps field.\nSo, like a little William Burroughs, I started doing a proper cut-up of my troubleshooting notes‚Äîand other pieces of useful notes taken during the years‚Äîto create a simple, fast, fully terminal-based way to save small documentation notes, snippets, and troubleshooting tips. A handy tool for organizing all those small discoveries, insights, and searches ‚Äî especially helpful when you need to learn and retain information from someone else‚Äôs documentation.: how was that iptables command? And that Apache fix? Look at that nice Ansible snippet! How is that thing you need to do on the Wazuh server to remove a deprecated agent‚Ä¶?. Basically a little Zettelkaste dedicated to those famous ‚Äútricks of the trade‚Äù you don‚Äôt want to forget‚Ä¶ and that you can use for showing off to your colleagues üòé\nMeet ‚Äòmini-howtos‚Äô So, this is mini-howtos. The ‚Äúmini‚Äù stands more for the size of the notes, than for their number, which is getting bigger everyday. It‚Äôs a small Bash script to\ncreate list and search notes interactively and directly from the terminal. The script lives somewhere in my $PATH (I keep it in /usr/local/bin), and the notes are stored and managed in a folder of my choice (see below, the section Creating a note).\nIt‚Äôs of course a work in progress, but it‚Äôs been pretty stable for a while now.\nIt‚Äôs quick to consult, update, and use (copying from terminal to terminal is sooo much easier for me). It‚Äôs been a great exercise for learning more about Bash file handling, colors, functions, conditions, parameters, input/output management‚Ä¶ (see below ‚ÄúA little Bash under the hood‚Äù)\nAnd yes, of course, I used ChatGPT, BUT as a sparring partner, not an ‚Äúabsolute truth‚Äù: a way to learn and improve, not to delegate.\nHere‚Äôs how it works. At the bottom of the page, you‚Äôll find the script to copy.\nCreating a Note With the command:\nmini-howtos create the terminal will ask you for:\nthe title of the note (which also becomes the name of the .txt file);\none or more labels, useful for later searches;\nand finally, the actual content of the note.\nWrite everything, then type EOF on an empty line to finish.\nnathan@nathan:~$ mini-howtos create Enter note title: How to restart NetworkManager cleanly Enter label (leave empty to finish): Networking Enter label (leave empty to finish): systemd Enter label (leave empty to finish): Enter note content (finish with EOF on its own line): Sometimes you just need to reset NetworkManager without reboot: systemctl restart NetworkManager EOF Note saved to: /$HOME/Documents/mini-howtos/How_to_restart_NetworkManager_cleanly.txt The script automatically saves the file with a name derived from the title (spaces become underscores, slashes are removed) and places it inside a predefined folder.\nMy notes folder is located inside my personal folder in the company‚Äôs Subversion repository, but any local folder will do. For example, you can create a ‚Äúmini-howtos‚Äù folder inside your Documents folder:\nmkdir $HOME/Documents/mini-howtos\nThen make sure to paste this path into the script variable:\n# Path to notes folder NOTES_DIR=\"$HOME/Documents/mini-howtos\" Here‚Äôs what a note looks like when it‚Äôs displayed in the terminal output:\nÔººÔºà„Äá_ÔΩèÔºâÔºè ------------------------------------- How to restart NetworkManager cleanly ------------------------------------- Label: networking Label: systemd Sometimes you just need to reset NetworkManager without reboot: systemctl restart NetworkManager The lines above and below the title are generated automatically to match its length, while the ‚Äúlabels‚Äù are listed one after another below the title.\nThe little guy ÔººÔºà„Äá_ÔΩèÔºâÔºè isn‚Äôt just for fun ‚Äî it‚Äôs practical too: when I start scrolling back and forth through one, two, or six shells, and through long outputs, these little guys help me see where my notes begin.\nBut how do I pull up the note I need? And how do I make changes to existing notes?\nIn both cases, there are two main commands:\nmini-howtos list and\nmini-howtos search Listing and Reading Notes This is the command to display the notes that you created:\nmini-howtos list\nThe script shows a numbered list of files and asks what you want to do:\ntyping just the number ‚Üí opens the note with the Linux‚Äôs command cat\ntyping the note number + edit ‚Üí opens the note in your editor of choice ($EDITOR, by default; in my case VIM)\nThe note numbers are generated each time the script runs ‚Äî they‚Äôre not tied to specific notes (so it‚Äôs not recommended to let your ‚Äúfinger-memory‚Äù learn the note number).\nHere‚Äôs an example:\nmini-howtos list üìãListing notes... Notes: 1) Bounced_E-Mails.txt 2) Comandi_VIM.txt 3) Critical_thinking_and_AI:_catch_the_error!.txt 4) deactivate_https_for_Netdata_dashboard.txt 5) E-Mail_Configuration.txt 6) Firefox_ESR52_for_proliangt5.txt 7) If_Virtual_Box_assigns_the_same_IP_address_to_different_VMs.txt 8) ZFS_Quota.txt 9) Montare_ISO_di_Sistema_Operativo_su_Chiavetta_USB.txt 10) Nagios_Logs.txt 11) Outlook_synchronisation_issues.txt 12) ZFS_Useful_Commands.txt 13) SWITCH_notes.txt Enter note number (e.g., '2' or '2 edit'): 12 ÔººÔºà„Äá_ÔΩèÔºâÔºè ------------------- ZFS Useful Commands ------------------- Label: ZFS Check ZFS Partitions zfs list -r -o space,refer,encryption,mounted,mountpoint Check snapshot and space zfs list -r -t all daten/evolution üîç Searching Notes Perhaps the best part is the search function:\nmini-howtos search\nYou can search:\nby label (the script gathers and numbers all used labels, again: casually)\nor by keyword (case-insensitive)\nAfter searching you can:\ndisplay all matching notes (all)\nopen a specific one (2)\nor edit it (2 edit)\nnathan@nathan:~$ mini-howtos search üîçHere you can search the notes Labels: 1) E-Mail 2) Linux 3) VIM 4) AI 5) Education 6) SSH 7) Monitoring 8) Evolution 9) Servers 10) ZFS 11)VM 11) Networking 12) Tickets 13) systemd 14) Partitions 15) Machines 16) Outlook 17) Backups 18) Samba Search by label number or keyword: ssh Results: 1) Server_Reboot.txt 2) SSH_no_hostkeys_available.txt 3) vbox-test3.txt 4) B√ºros_computer.txt Enter note numbers (space-separated), all, or N edit: 3 ÔººÔºà„Äá_ÔΩèÔºâÔºè ------------------------- SSH no hostkeys available ------------------------- Label: Networking Label: SSH If you get this error sshd: no hostkeys available -- exiting 1. In the /etc/ssh/ folder run ssh-keygen -A 2. /etc/init.d/ssh start A bit of Bash under the hood Unpretentious but very practical.\nset -euo pipefail: Bash‚Äôs safety helmet At the beginning of the script you‚Äôll find this line:\nset -euo pipefail\nIt‚Äôs like a ‚Äúsafe mode‚Äù for Bash. It helps prevent many silent errors that, in more complex scripts, can become a nightmare. Here‚Äôs what it does:\n-e ‚Üí stops the script at the first error (instead of continuing as if nothing happened);\n-u ‚Üí treats the use of undeclared variables as an error;\n-o pipefail ‚Üí if in a pipe (cmd1 | cmd2) one of the commands fails, the entire pipeline fails (by default Bash only considers the last one).\nResult: the script stops when something goes wrong, instead of creating half-empty files or truncated notes.\nANSI colors for a more readable terminal The variables:\nRESET=\"\\033[0m\" YELLOW=\"\\033[33m\" BLUE=\"\\033[34m\" PINK=\"\\033[35m\" are used to color the terminal output. In Bash, the \\033[ sequences introduce ANSI escape codes, which are used to change text color or style. A small thing, but it greatly improves usability ‚Äî especially when browsing through lots of notes.\nIn this script, each section uses a consistent color:\nyellow for input or interactive prompts,\nblue for the note list,\npink for search results,\nreset to return to the normal color.\nClear and modular functions The script is divided into three main functions:\ncreate_note(): to create a new note\nlist_notes(): to list and open existing notes\nsearch_notes(): to search through files\nEach function is isolated, with a specific job and no unnecessary global variables. This approach makes the script easy to maintain and extend: for example, if you wanted to add a delete command later, you‚Äôd just add a new function and one case at the bottom.\ngrep, mapfile and Bash arrays The search and indexing section makes good use of some ‚Äúlesser-known‚Äù but powerful modern Bash functions:\nmapfile -t files \u003c \u003c(find ...) allows you to fill an array by reading the output of a command, cleanly and without manual loops.\ngrep -l finds files containing certain text and returns only their names (perfect for filtering notes).\ndeclare -A seen_labels creates an associative array, used to gather all labels without duplicates.\nThese techniques allow the script to handle dozens (or hundreds) of note files efficiently.\nThe print_line trick A small but elegant function:\nprint_line() { local char=\"$1\" local len=\"$2\" printf \"%${len}s\\n\" | tr \" \" \"$char\" } It prints a horizontal line (like ------) matching the length of the note‚Äôs title. A visual detail that makes the notes look neat and consistent.\nmkdir -p and environment variables First of all, the script ensures that the notes directory exists:\nmkdir -p \"$NOTES_DIR\" The -p flag prevents errors if the folder already exists. It also uses $EDITOR_CMD=\"${EDITOR:-vim}\" to respect the user‚Äôs $EDITOR environment variable, with a sensible fallback (vim). If you prefer nano or micro, you just have change the variable at the top of the script.\nConclusion It‚Äôs not a knowledge management system like Obsidian or Notion, but it‚Äôs fast, local, textual, and portable.\nIf you want to try, adapt it, make it better, here is the script. Put it in your $PATH, use it, make it better. It al starts with\nmini-howtos create #!/usr/bin/env bash set -euo pipefail # Path to notes folder NOTES_DIR=\"$HOME/Documents/mini-howtos\" EDITOR_CMD=\"${EDITOR:-vim}\" # Ensure folder exists mkdir -p \"$NOTES_DIR\" # Colors RESET=\"\\033[0m\" YELLOW=\"\\033[33m\" BLUE=\"\\033[34m\" PINK=\"\\033[35m\" # Helper: print a horizontal line print_line() { local char=\"$1\" local len=\"$2\" printf \"%${len}s\\n\" | tr \" \" \"$char\" } # ---------------- CREATING ---------------- create_note() { read -rp \"Enter note title: \" title # Sanitize filename: replace spaces with underscores and strip slashes file_title=\"${title// /_}\" file_title=\"${file_title//\\//-}.txt\" file_path=\"$NOTES_DIR/$file_title\" # Collect multiple labels labels=() while true; do read -rp \"$(echo -e ${YELLOW}Enter label \\(leave empty to finish\\): ${RESET})\" label [[ -z \"$label\" ]] \u0026\u0026 break labels+=(\"$label\") done echo \"Enter note content (finish with EOF on its own line):\" content=\"\" while IFS= read -r line; do [[ $line == \"EOF\" ]] \u0026\u0026 break content+=\"$line\"$'\\n' done { # Two empty lines + the face echo echo echo \"ÔººÔºà„Äá_ÔΩèÔºâÔºè\" # Title with dashes print_line \"-\" \"${#title}\" echo \"$title\" print_line \"-\" \"${#title}\" for lbl in \"${labels[@]}\"; do echo \"Label: $lbl\" done echo printf \"%s\" \"$content\" } \u003e \"$file_path\" echo \"Note saved to: $file_path\" } # ---------------- LISTING ---------------- list_notes() { # Collect files (filenames only), sorted echo \"üìãListing notes...\" mapfile -t files \u003c \u003c(find \"$NOTES_DIR\" -maxdepth 1 -type f -printf '%f\\n' | sort) if [ ${#files[@]} -eq 0 ]; then echo \"No notes found.\" return 0 fi echo -e \"${BLUE}Notes:${RESET}\" for i in \"${!files[@]}\"; do printf \"${BLUE}%2d) %s${RESET}\\n\" \"$((i+1))\" \"${files[$i]}\" done # Read a whole line so we can parse \"2 edit\" read -r -p \"Enter note number (e.g., '2' or '2 edit'): \" line # Split by IFS read -r num action \u003c\u003c\u003c\"$line\" # Validate number if ! [[ \"${num:-}\" =~ ^[0-9]+$ ]] || (( num \u003c 1 || num \u003e ${#files[@]} )); then echo \"Invalid selection.\" return 1 fi selected=\"${files[$((num-1))]}\" if [[ \"${action:-}\" == \"edit\" ]]; then \"$EDITOR_CMD\" \"$NOTES_DIR/$selected\" else cat \"$NOTES_DIR/$selected\" fi } # ---------------- SEARCHING ---------------- search_notes() { # Build unique label list echo \"üîçHere you can search the notes\" declare -A seen_labels=() unique_labels=() shopt -s nullglob for f in \"$NOTES_DIR\"/*.txt; do while IFS= read -r lbl; do lbl=\"${lbl#Label: }\" # rimuove \"Label: \" lbl=\"$(echo \"$lbl\" | xargs)\" # trim spazi if [[ -n \"$lbl\" \u0026\u0026 -z \"${seen_labels[$lbl]+x}\" ]]; then unique_labels+=(\"$lbl\") seen_labels[$lbl]=1 fi done \u003c \u003c(grep '^Label:' \"$f\") done shopt -u nullglob if ((${#unique_labels[@]})); then echo -e \"${YELLOW}Labels:${RESET}\" for i in \"${!unique_labels[@]}\"; do printf \"${YELLOW}%2d) %s${RESET}\\n\" \"$((i+1))\" \"${unique_labels[$i]}\" done else echo \"No labels found yet.\" fi read -r -p $'\\e[35mSearch by label number or keyword: \\e[0m' search_term results=() if [[ \"$search_term\" =~ ^[0-9]+$ ]] \u0026\u0026 (( search_term \u003e= 1 \u0026\u0026 search_term \u003c= ${#unique_labels[@]} )); then label=\"${unique_labels[$((search_term-1))]}\" # Fixed-string search for exact \"Label: \" mapfile -t results \u003c \u003c(grep -l -F \"Label: $label\" \"$NOTES_DIR\"/*.txt 2\u003e/dev/null | sort) else # Case-insensitive keyword search anywhere in the note mapfile -t results \u003c \u003c(grep -il -- \"$search_term\" \"$NOTES_DIR\"/*.txt 2\u003e/dev/null | sort) fi if ((${#results[@]} == 0)); then echo \"No results found.\" return 0 fi echo -e \"${PINK}Results:${RESET}\" for i in \"${!results[@]}\"; do printf \"%2d) %s\\n\" \"$((i+1))\" \"$(basename \"${results[$i]}\")\" done read -r -p \"$(echo -e ${PINK}Enter note numbers \\(space-separated\\), 'all', or 'N edit': ${RESET})\" choice_line # Detect trailing 'edit' edit_mode=0 # Split tokens read -ra tokens \u003c\u003c\u003c\"$choice_line\" if ((${#tokens[@]} \u003e= 1)) \u0026\u0026 [[ \"${tokens[-1]}\" == \"edit\" ]]; then edit_mode=1 unset 'tokens[-1]' fi # Handle 'all' if ((${#tokens[@]} == 1)) \u0026\u0026 [[ \"${tokens[0]}\" == \"all\" ]]; then for f in \"${results[@]}\"; do cat \"$f\" echo done return 0 fi # Collect selected indices selections=() for t in \"${tokens[@]}\"; do if [[ \"$t\" =~ ^[0-9]+$ ]] \u0026\u0026 (( t \u003e= 1 \u0026\u0026 t \u003c= ${#results[@]} )); then selections+=(\"$t\") else echo \"Skipping invalid selection: $t\" fi done if ((${#selections[@]} == 0)); then echo \"Nothing to show.\" return 0 fi if (( edit_mode == 1 \u0026\u0026 ${#selections[@]} == 1 )); then f=\"${results[$((${selections[0]}-1))]}\" \"$EDITOR_CMD\" \"$f\" return 0 fi # Default: cat selected notes for s in \"${selections[@]}\"; do f=\"${results[$((s-1))]}\" cat \"$f\" echo done } # ---------------- MAIN ---------------- case \"${1:-}\" in create) create_note ;; list) list_notes ;; search) search_notes ;; *) echo \" | ÔººÔºà„Äá_ÔΩèÔºâÔºè | | Welcome to mini-howtos for Troubleshooting and entertaining! | Usage: üìùcreate üìãlist üîçsearch \" ;; esac ","wordCount":"2383","inLanguage":"en","image":"http://localhost:1313/images/doubtfulman.jpg","datePublished":"2025-10-30T23:35:19+01:00","dateModified":"2025-10-30T23:35:19+01:00","author":{"@type":"Person","name":"Nathan Morello"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/mini-howtos/"},"publisher":{"@type":"Organization","name":"","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/ title=Home><span>Home</span></a></li><li><a href=http://localhost:1313/about/ title=About><span>About</span></a></li><li><a href=http://localhost:1313/posts/ title="All Articles"><span>All Articles</span></a></li><li><a href=http://localhost:1313/categories/core-stack title="Core Stack"><span>Core Stack</span></a></li><li><a href=http://localhost:1313/categories/soft-stack title="Soft Stack"><span>Soft Stack</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;¬ª&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè'</h1><div class=post-meta><span title='2025-10-30 23:35:19 +0100 CET'>October 30, 2025</span>&nbsp;¬∑&nbsp;<span>12 min</span>&nbsp;¬∑&nbsp;<span>2383 words</span>&nbsp;¬∑&nbsp;<span>Nathan Morello</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#meet-mini-howtos>Meet &lsquo;mini-howtos&rsquo;</a></li><li><a href=#creating-a-note>Creating a Note</a></li><li><a href=#listing-and-reading-notes>Listing and Reading Notes</a></li><li><a href=#-searching-notes>üîç Searching Notes</a></li><li><a href=#a-bit-of-bash-under-the-hood>A bit of Bash under the hood</a><ul><li></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></details></div><div class=post-content><figure><img loading=lazy src=/images/nat-takin-notesY.png alt=nat></figure><p>Anyone who‚Äôs worked as a sysadmin knows this: sometimes you only manage to solve a problem after half an hour (or more) of searching on Stack Overflow or repeatedly tweaking configurations. Then, finally, you get it working.</p><p>&mldr;And the next time, you can‚Äôt remember how you did it!</p><p>To avoid losing all this hard-earned knowledge, for several years I kept a single text file called &ldquo;Everyday-troubleshoot&rdquo;. It worked, but it wasn‚Äôt practical. Every time I had to:</p><ul><li>Remember where I put the file.</li><li>Look through a sort of &ldquo;table fo content&rdquo; I kept at the beginning of the first page.</li><li>Find the topic.</li><li>Try the noted solution.</li><li>Possibly update it.</li><li>Update the table of content&mldr;</li></ul><p>It was long and tedious that sometimes I‚Äôd <em>postpone</em> updating it with a new note, because I just didn&rsquo;t have time&mldr; and end up right back where I started.</p><p>Then two things happened:</p><ol><li><p>I read <a href="https://www.amazon.de/How-Take-Smart-Notes-Technique/dp/3982438802?ie=UTF8&amp;tag=googhydr08-21&amp;hvadid=719378855680&amp;hvpos=&amp;hvexid=&amp;hvnetw=g&amp;hvrand=2470447675421112442&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;ref=pd_sl_1igezu3og_e&amp;tag=&amp;ref=&amp;adgrpid=172726841667&amp;hvpone=&amp;hvptwo=&amp;hvadid=719378855680&amp;hvpos=&amp;hvnetw=g&amp;hvrand=2470447675421112442&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9061166&amp;hvtargid=dsa-1595363597442&amp;hydadcr=&amp;mcid=&amp;gad_source=1"><em>How to Take Smart Notes</em></a> by S√∂nke Ahrens, discovering the work of Niklas Luhmann and his <a href=https://en.wikipedia.org/wiki/Zettelkasten><em>Zettelkasten</em> Method</a>, as well as its adaptationsin the <a href="https://www.youtube.com/watch?v=o1NJYnZCfmY">digital world</a>, which made me realize the value of (<em>very</em>) short and well-crafted notes;</p></li><li><p>I decided to improve my knowledge of Bash, because it‚Äôs one of the fundamental tools for both Linux administration and for building a career in the DevOps field.</p></li></ol><blockquote><p><figure><img loading=lazy src=/images/burroughscuts.jpg alt=Burroughs width=350></figure><br>So, like a little <strong>William Burroughs</strong>, I started doing a proper <a href=https://austinkleon.com/2018/09/18/the-surprisingly-long-history-of-the-cut-up-technique/>cut-up</a> of my troubleshooting notes‚Äîand other pieces of useful notes taken during the years‚Äîto create a <strong>simple</strong>, <strong>fast, fully terminal-based</strong> way to save small documentation notes, snippets, and troubleshooting tips. A handy tool for organizing all those small discoveries, insights, and searches ‚Äî <strong>especially helpful when you need to learn and retain information from <em>someone else‚Äôs</em> documentation</strong>.: how was that <code>iptables</code> command? And that Apache fix? Look at that nice Ansible snippet! How is that thing you need to do on the Wazuh server to remove a deprecated agent&mldr;?.
Basically a little <em>Zettelkaste</em> dedicated to those famous ‚Äú<strong>tricks of the trade</strong>‚Äù you don‚Äôt want to forget&mldr; and that you can use for showing off to your colleagues üòé</p></blockquote><h2 id=meet-mini-howtos>Meet &lsquo;mini-howtos&rsquo;<a hidden class=anchor aria-hidden=true href=#meet-mini-howtos>#</a></h2><p>So, this is <strong>mini-howtos</strong>. The &ldquo;mini&rdquo; stands more for the size of the notes, than for their number, which is getting bigger everyday. It&rsquo;s a small Bash script to</p><ul><li><strong>create</strong></li><li><strong>list</strong></li><li>and <strong>search</strong> notes interactively and directly from the terminal.</li></ul><p>The script lives somewhere in my <code>$PATH</code> (I keep it in <code>/usr/local/bin</code>), and the notes are stored and managed in a folder of my choice (see below, the section <strong>Creating a note</strong>).<br>It‚Äôs of course a work in progress, but it‚Äôs been pretty stable for a while now.<br>It‚Äôs quick to consult, update, and <em>use</em> (copying from terminal to terminal is sooo much easier for me).
It‚Äôs been a great exercise for learning more about Bash file handling, colors, functions, conditions, parameters, input/output management‚Ä¶ (see below &ldquo;A little Bash under the hood&rdquo;)</p><p>And yes, of course, I used ChatGPT, BUT as a <strong>sparring partner</strong>, not an ‚Äúabsolute truth‚Äù: a way to learn and improve, not to delegate.</p><p>Here‚Äôs how it works.
At the bottom of the page, you‚Äôll find the script to copy.</p><h2 id=creating-a-note>Creating a Note<a hidden class=anchor aria-hidden=true href=#creating-a-note>#</a></h2><p>With the command:</p><pre tabindex=0><code>mini-howtos create
</code></pre><p>the terminal will ask you for:</p><ul><li><p>the <strong>title</strong> of the note (which also becomes the name of the <code>.txt</code> file);</p></li><li><p>one or more <strong>labels</strong>, useful for later searches;</p></li><li><p>and finally, the <strong>actual content</strong> of the note.</p></li></ul><p>Write everything, then type <code>EOF</code> on an empty line to finish.</p><pre tabindex=0><code>nathan@nathan:~$ mini-howtos create
Enter note title: How to restart NetworkManager cleanly
Enter label (leave empty to finish): Networking
Enter label (leave empty to finish): systemd
Enter label (leave empty to finish):
Enter note content (finish with EOF on its own line):

Sometimes you just need to reset NetworkManager without reboot:

systemctl restart NetworkManager
EOF

Note saved to: /$HOME/Documents/mini-howtos/How_to_restart_NetworkManager_cleanly.txt
</code></pre><p>The script automatically saves the file with a name derived from the title (spaces become underscores, slashes are removed) and places it inside a predefined folder.</p><p>My notes folder is located inside my personal folder in the company&rsquo;s Subversion repository, but any local folder will do.
For example, you can create a ‚Äúmini-howtos‚Äù folder inside your Documents folder:</p><p><code>mkdir $HOME/Documents/mini-howtos</code></p><p>Then make sure to paste this path into the script variable:</p><pre tabindex=0><code># Path to notes folder
NOTES_DIR=&#34;$HOME/Documents/mini-howtos&#34;
</code></pre><p>Here‚Äôs what a note looks like when it‚Äôs displayed in the terminal output:</p><pre tabindex=0><code>ÔººÔºà„Äá_ÔΩèÔºâÔºè
-------------------------------------
How to restart NetworkManager cleanly
-------------------------------------
Label: networking
Label: systemd

Sometimes you just need to reset NetworkManager without reboot:

systemctl restart NetworkManager
</code></pre><p>The lines above and below the title are generated automatically to match its length, while the ‚Äúlabels‚Äù are listed one after another below the title.</p><blockquote><p>The <strong>little guy</strong> ÔººÔºà„Äá_ÔΩèÔºâÔºè isn‚Äôt just for fun ‚Äî it‚Äôs practical too: when I start scrolling back and forth through one, two, or six shells, and through long outputs, these little guys help me see where my notes begin.</p></blockquote><p>But how do I pull up the note I need?
And how do I make changes to existing notes?</p><p>In both cases, there are two main commands:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mini-howtos list
</span></span></code></pre></div><p>and</p><pre tabindex=0><code>mini-howtos search
</code></pre><h2 id=listing-and-reading-notes>Listing and Reading Notes<a hidden class=anchor aria-hidden=true href=#listing-and-reading-notes>#</a></h2><p>This is the command to display the notes that you created:</p><p><code>mini-howtos list</code></p><p>The script shows a numbered list of files and asks what you want to do:</p><ul><li><p>typing just the number ‚Üí opens the note with the Linux&rsquo;s command <code>cat</code></p></li><li><p>typing the note number + <code>edit</code> ‚Üí opens the note in your editor of choice (<code>$EDITOR</code>, by default; in my case <code>VIM</code>)</p></li></ul><p>The note numbers are generated each time the script runs ‚Äî they‚Äôre <em>not</em> tied to specific notes (so it‚Äôs not recommended to let your &ldquo;finger-memory&rdquo; learn the note number).</p><p>Here‚Äôs an example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mini-howtos list
</span></span><span class=line><span class=cl>üìãListing notes...
</span></span><span class=line><span class=cl>Notes:
</span></span><span class=line><span class=cl>1<span class=o>)</span> Bounced_E-Mails.txt
</span></span><span class=line><span class=cl>2<span class=o>)</span> Comandi_VIM.txt
</span></span><span class=line><span class=cl>3<span class=o>)</span> Critical_thinking_and_AI:_catch_the_error!.txt
</span></span><span class=line><span class=cl>4<span class=o>)</span> deactivate_https_for_Netdata_dashboard.txt
</span></span><span class=line><span class=cl>5<span class=o>)</span> E-Mail_Configuration.txt
</span></span><span class=line><span class=cl>6<span class=o>)</span> Firefox_ESR52_for_proliangt5.txt
</span></span><span class=line><span class=cl>7<span class=o>)</span> If_Virtual_Box_assigns_the_same_IP_address_to_different_VMs.txt
</span></span><span class=line><span class=cl>8<span class=o>)</span> ZFS_Quota.txt
</span></span><span class=line><span class=cl>9<span class=o>)</span> Montare_ISO_di_Sistema_Operativo_su_Chiavetta_USB.txt
</span></span><span class=line><span class=cl>10<span class=o>)</span> Nagios_Logs.txt
</span></span><span class=line><span class=cl>11<span class=o>)</span> Outlook_synchronisation_issues.txt
</span></span><span class=line><span class=cl>12<span class=o>)</span> ZFS_Useful_Commands.txt
</span></span><span class=line><span class=cl>13<span class=o>)</span> SWITCH_notes.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Enter note number <span class=o>(</span>e.g., <span class=s1>&#39;2&#39;</span> or <span class=s1>&#39;2 edit&#39;</span><span class=o>)</span>: <span class=m>12</span>
</span></span><span class=line><span class=cl>ÔººÔºà„Äá_ÔΩèÔºâÔºè
</span></span><span class=line><span class=cl>-------------------
</span></span><span class=line><span class=cl>ZFS Useful Commands
</span></span><span class=line><span class=cl>-------------------
</span></span><span class=line><span class=cl>Label: ZFS
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Check ZFS Partitions
</span></span><span class=line><span class=cl>	zfs list -r -o space,refer,encryption,mounted,mountpoint
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Check snapshot and space
</span></span><span class=line><span class=cl>	zfs list -r -t all daten/evolution
</span></span></code></pre></div><h2 id=-searching-notes>üîç Searching Notes<a hidden class=anchor aria-hidden=true href=#-searching-notes>#</a></h2><p>Perhaps the best part is the search function:</p><p><code>mini-howtos search</code></p><p>You can search:</p><ul><li><p>by <strong>label</strong> (the script gathers and numbers all used labels, again: casually)</p></li><li><p>or by <strong>keyword</strong> (case-insensitive)</p></li></ul><p>After searching you can:</p><ul><li><p>display all matching notes (<code>all</code>)</p></li><li><p>open a specific one (<code>2</code>)</p></li><li><p>or edit it (<code>2 edit</code>)</p></li></ul><pre tabindex=0><code>nathan@nathan:~$ mini-howtos search
üîçHere you can search the notes Labels:
1) E-Mail
2) Linux
3) VIM
4) AI
5) Education
6) SSH
7) Monitoring
8) Evolution
9) Servers
10) ZFS
11)VM
11) Networking
12) Tickets
13) systemd
14) Partitions
15) Machines
16) Outlook
17) Backups
18) Samba
Search by label number or keyword: ssh
</code></pre><pre tabindex=0><code>Results:
1) Server_Reboot.txt
2) SSH_no_hostkeys_available.txt
3) vbox-test3.txt
4) B√ºros_computer.txt
Enter note numbers (space-separated), all, or N edit: 3

ÔººÔºà„Äá_ÔΩèÔºâÔºè
-------------------------
SSH no hostkeys available
-------------------------
Label: Networking
Label: SSH

If you get this error
	sshd: no hostkeys available -- exiting

1. In the /etc/ssh/ folder run ssh-keygen -A
2. /etc/init.d/ssh start
</code></pre><h2 id=a-bit-of-bash-under-the-hood>A bit of Bash under the hood<a hidden class=anchor aria-hidden=true href=#a-bit-of-bash-under-the-hood>#</a></h2><p>Unpretentious but very practical.</p><h5 id=set--euo-pipefail-bashs-safety-helmet><code>set -euo pipefail</code>: Bash‚Äôs safety helmet<a hidden class=anchor aria-hidden=true href=#set--euo-pipefail-bashs-safety-helmet>#</a></h5><p>At the beginning of the script you‚Äôll find this line:</p><p><code>set -euo pipefail</code></p><p>It‚Äôs like a ‚Äúsafe mode‚Äù for Bash.
It helps prevent many silent errors that, in more complex scripts, can become a nightmare.
Here‚Äôs what it does:</p><ul><li><p><code>-e</code> ‚Üí stops the script at the <strong>first error</strong> (instead of continuing as if nothing happened);</p></li><li><p><code>-u</code> ‚Üí treats the use of <strong>undeclared variables</strong> as an error;</p></li><li><p><code>-o pipefail</code> ‚Üí if in a <strong>pipe</strong> (<code>cmd1 | cmd2</code>) one of the commands fails, the entire pipeline fails (by default Bash only considers the last one).</p></li></ul><p>Result: the script stops when something goes wrong, instead of creating half-empty files or truncated notes.</p><h5 id=ansi-colors-for-a-more-readable-terminal>ANSI colors for a more readable terminal<a hidden class=anchor aria-hidden=true href=#ansi-colors-for-a-more-readable-terminal>#</a></h5><p>The variables:</p><pre tabindex=0><code>RESET=&#34;\033[0m&#34;
YELLOW=&#34;\033[33m&#34;
BLUE=&#34;\033[34m&#34;
PINK=&#34;\033[35m&#34;
</code></pre><p>are used to color the terminal output.
In Bash, the <code>\033[</code> sequences introduce <strong>ANSI escape codes</strong>, which are used to change text color or style. A small thing, but it greatly improves usability ‚Äî especially when browsing through lots of notes.</p><p>In this script, each section uses a consistent color:</p><ul><li><p><strong>yellow</strong> for input or interactive prompts,</p></li><li><p><strong>blue</strong> for the note list,</p></li><li><p><strong>pink</strong> for search results,</p></li><li><p><strong>reset</strong> to return to the normal color.</p></li></ul><h5 id=clear-and-modular-functions>Clear and modular functions<a hidden class=anchor aria-hidden=true href=#clear-and-modular-functions>#</a></h5><p>The script is divided into <strong>three main functions</strong>:</p><ul><li><p><code>create_note()</code>: to create a new note</p></li><li><p><code>list_notes()</code>: to list and open existing notes</p></li><li><p><code>search_notes()</code>: to search through files</p></li></ul><p>Each function is isolated, with a specific job and no unnecessary global variables.
This approach makes the script <strong>easy to maintain</strong> and extend: for example, if you wanted to add a <code>delete</code> command later, you‚Äôd just add a new function and one case at the bottom.</p><h5 id=grep-mapfile-and-bash-arrays><code>grep</code>, <code>mapfile</code> and Bash arrays<a hidden class=anchor aria-hidden=true href=#grep-mapfile-and-bash-arrays>#</a></h5><p>The search and indexing section makes good use of some ‚Äúlesser-known‚Äù but powerful modern Bash functions:</p><ul><li><p><code>mapfile -t files &lt; &lt;(find ...)</code> allows you to <strong>fill an array</strong> by reading the output of a command, cleanly and without manual loops.</p></li><li><p><code>grep -l</code> finds files containing certain text and returns only their names (perfect for filtering notes).</p></li><li><p><code>declare -A seen_labels</code> creates an <strong>associative array</strong>, used to gather all labels without duplicates.</p></li></ul><p>These techniques allow the script to handle dozens (or hundreds) of note files efficiently.</p><h5 id=the-print_line-trick>The <code>print_line</code> trick<a hidden class=anchor aria-hidden=true href=#the-print_line-trick>#</a></h5><p>A small but elegant function:</p><pre tabindex=0><code>print_line() { local char=&#34;$1&#34; local len=&#34;$2&#34; printf &#34;%${len}s\n&#34; | tr &#34; &#34; &#34;$char&#34; }
</code></pre><p>It prints a horizontal line (like <code>------</code>) matching the length of the note‚Äôs title.
A visual detail that makes the notes look neat and consistent.</p><h5 id=mkdir--p-and-environment-variables><code>mkdir -p</code> and environment variables<a hidden class=anchor aria-hidden=true href=#mkdir--p-and-environment-variables>#</a></h5><p>First of all, the script ensures that the notes directory exists:</p><pre tabindex=0><code>mkdir -p &#34;$NOTES_DIR&#34;
</code></pre><p>The <code>-p</code> flag prevents errors if the folder already exists.
It also uses <code>$EDITOR_CMD="${EDITOR:-vim}"</code> to respect the user‚Äôs <code>$EDITOR</code> environment variable, with a sensible fallback (<code>vim</code>).
If you prefer <code>nano</code> or <code>micro</code>, you just have change the variable at the top of the script.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>It‚Äôs not a knowledge management system like Obsidian or Notion, but it‚Äôs <strong>fast, local, textual, and portable</strong>.</p><p>If you want to try, adapt it, make it better, here is the script. Put it in your <code>$PATH</code>, <em><strong>use it</strong></em>, make it better.
It al starts with</p><pre tabindex=0><code>mini-howtos create
</code></pre><hr><pre tabindex=0><code>#!/usr/bin/env bash
set -euo pipefail

# Path to notes folder
NOTES_DIR=&#34;$HOME/Documents/mini-howtos&#34;
EDITOR_CMD=&#34;${EDITOR:-vim}&#34;

# Ensure folder exists
mkdir -p &#34;$NOTES_DIR&#34;

# Colors
RESET=&#34;\033[0m&#34;
YELLOW=&#34;\033[33m&#34;
BLUE=&#34;\033[34m&#34;
PINK=&#34;\033[35m&#34;



# Helper: print a horizontal line
print_line() {
    local char=&#34;$1&#34;
    local len=&#34;$2&#34;
    printf &#34;%${len}s\n&#34; | tr &#34; &#34; &#34;$char&#34;
}

# ---------------- CREATING ----------------
create_note() {
    read -rp &#34;Enter note title: &#34; title
    # Sanitize filename: replace spaces with underscores and strip slashes
    file_title=&#34;${title// /_}&#34;
    file_title=&#34;${file_title//\//-}.txt&#34;
    file_path=&#34;$NOTES_DIR/$file_title&#34;

    # Collect multiple labels
    labels=()
    while true; do
        read -rp &#34;$(echo -e ${YELLOW}Enter label \(leave empty to finish\): ${RESET})&#34; label
        [[ -z &#34;$label&#34; ]] &amp;&amp; break
        labels+=(&#34;$label&#34;)
    done

    echo &#34;Enter note content (finish with EOF on its own line):&#34;
    content=&#34;&#34;
    while IFS= read -r line; do
        [[ $line == &#34;EOF&#34; ]] &amp;&amp; break
        content+=&#34;$line&#34;$&#39;\n&#39;
    done

    {
        # Two empty lines + the face
        echo
        echo
        echo &#34;ÔººÔºà„Äá_ÔΩèÔºâÔºè&#34;
        # Title with dashes
        print_line &#34;-&#34; &#34;${#title}&#34;
        echo &#34;$title&#34;
        print_line &#34;-&#34; &#34;${#title}&#34;
        for lbl in &#34;${labels[@]}&#34;; do
            echo &#34;Label: $lbl&#34;
        done
        echo
        printf &#34;%s&#34; &#34;$content&#34;
    } &gt; &#34;$file_path&#34;

    echo &#34;Note saved to: $file_path&#34;
}


# ---------------- LISTING ----------------
list_notes() {
    # Collect files (filenames only), sorted
    echo &#34;üìãListing notes...&#34;
    mapfile -t files &lt; &lt;(find &#34;$NOTES_DIR&#34; -maxdepth 1 -type f -printf &#39;%f\n&#39; | sort)
    if [ ${#files[@]} -eq 0 ]; then
        echo &#34;No notes found.&#34;
        return 0
    fi

    echo -e &#34;${BLUE}Notes:${RESET}&#34;
    for i in &#34;${!files[@]}&#34;; do
        printf &#34;${BLUE}%2d) %s${RESET}\n&#34; &#34;$((i+1))&#34; &#34;${files[$i]}&#34;
    done

    # Read a whole line so we can parse &#34;2 edit&#34;
    read -r -p &#34;Enter note number (e.g., &#39;2&#39; or &#39;2 edit&#39;): &#34; line
    # Split by IFS
    read -r num action &lt;&lt;&lt;&#34;$line&#34;

    # Validate number
    if ! [[ &#34;${num:-}&#34; =~ ^[0-9]+$ ]] || (( num &lt; 1 || num &gt; ${#files[@]} )); then
        echo &#34;Invalid selection.&#34;
        return 1
    fi

    selected=&#34;${files[$((num-1))]}&#34;
    if [[ &#34;${action:-}&#34; == &#34;edit&#34; ]]; then
        &#34;$EDITOR_CMD&#34; &#34;$NOTES_DIR/$selected&#34;
    else
        cat &#34;$NOTES_DIR/$selected&#34;
    fi
}

# ---------------- SEARCHING ----------------
search_notes() {
    # Build unique label list
    echo &#34;üîçHere you can search the notes&#34;
    declare -A seen_labels=()
    unique_labels=()

    shopt -s nullglob
    for f in &#34;$NOTES_DIR&#34;/*.txt; do
        while IFS= read -r lbl; do
            lbl=&#34;${lbl#Label: }&#34;   # rimuove &#34;Label: &#34;
            lbl=&#34;$(echo &#34;$lbl&#34; | xargs)&#34; # trim spazi
            if [[ -n &#34;$lbl&#34; &amp;&amp; -z &#34;${seen_labels[$lbl]+x}&#34; ]]; then
                unique_labels+=(&#34;$lbl&#34;)
                seen_labels[$lbl]=1
            fi
        done &lt; &lt;(grep &#39;^Label:&#39; &#34;$f&#34;)
    done

    shopt -u nullglob

    if ((${#unique_labels[@]})); then
        echo -e &#34;${YELLOW}Labels:${RESET}&#34;
        for i in &#34;${!unique_labels[@]}&#34;; do
            printf &#34;${YELLOW}%2d) %s${RESET}\n&#34; &#34;$((i+1))&#34; &#34;${unique_labels[$i]}&#34;
        done
    else
        echo &#34;No labels found yet.&#34;
    fi

    read -r -p $&#39;\e[35mSearch by label number or keyword: \e[0m&#39; search_term

    results=()
    if [[ &#34;$search_term&#34; =~ ^[0-9]+$ ]] &amp;&amp; (( search_term &gt;= 1 &amp;&amp; search_term &lt;= ${#unique_labels[@]} )); then
        label=&#34;${unique_labels[$((search_term-1))]}&#34;
        # Fixed-string search for exact &#34;Label: &lt;label&gt;&#34;
        mapfile -t results &lt; &lt;(grep -l -F &#34;Label: $label&#34; &#34;$NOTES_DIR&#34;/*.txt 2&gt;/dev/null | sort)
    else
        # Case-insensitive keyword search anywhere in the note
        mapfile -t results &lt; &lt;(grep -il -- &#34;$search_term&#34; &#34;$NOTES_DIR&#34;/*.txt 2&gt;/dev/null | sort)
    fi

    if ((${#results[@]} == 0)); then
        echo &#34;No results found.&#34;
        return 0
    fi

    echo -e &#34;${PINK}Results:${RESET}&#34;
    for i in &#34;${!results[@]}&#34;; do
        printf &#34;%2d) %s\n&#34; &#34;$((i+1))&#34; &#34;$(basename &#34;${results[$i]}&#34;)&#34;
    done

    read -r -p &#34;$(echo -e ${PINK}Enter note numbers \(space-separated\), &#39;all&#39;, or &#39;N edit&#39;: ${RESET})&#34; choice_line

    # Detect trailing &#39;edit&#39;
    edit_mode=0
    # Split tokens
    read -ra tokens &lt;&lt;&lt;&#34;$choice_line&#34;
    if ((${#tokens[@]} &gt;= 1)) &amp;&amp; [[ &#34;${tokens[-1]}&#34; == &#34;edit&#34; ]]; then
        edit_mode=1
        unset &#39;tokens[-1]&#39;
    fi

    # Handle &#39;all&#39;
    if ((${#tokens[@]} == 1)) &amp;&amp; [[ &#34;${tokens[0]}&#34; == &#34;all&#34; ]]; then
        for f in &#34;${results[@]}&#34;; do
            cat &#34;$f&#34;
            echo
        done
        return 0
    fi

    # Collect selected indices
    selections=()
    for t in &#34;${tokens[@]}&#34;; do
        if [[ &#34;$t&#34; =~ ^[0-9]+$ ]] &amp;&amp; (( t &gt;= 1 &amp;&amp; t &lt;= ${#results[@]} )); then
            selections+=(&#34;$t&#34;)
        else
            echo &#34;Skipping invalid selection: $t&#34;
        fi
    done

    if ((${#selections[@]} == 0)); then
        echo &#34;Nothing to show.&#34;
        return 0
    fi

    if (( edit_mode == 1 &amp;&amp; ${#selections[@]} == 1 )); then
        f=&#34;${results[$((${selections[0]}-1))]}&#34;
        &#34;$EDITOR_CMD&#34; &#34;$f&#34;
        return 0
    fi

    # Default: cat selected notes
    for s in &#34;${selections[@]}&#34;; do
        f=&#34;${results[$((s-1))]}&#34;
        cat &#34;$f&#34;
        echo
    done
}

# ---------------- MAIN ----------------

case &#34;${1:-}&#34; in
    create) create_note ;;
    list)   list_notes ;;
    search) search_notes ;;
    *)
        echo &#34;
|                       ÔººÔºà„Äá_ÔΩèÔºâÔºè                         |
| Welcome to mini-howtos for Troubleshooting and entertaining!  |

Usage:  üìùcreate
        üìãlist
        üîçsearch
        &#34;

        ;;
esac
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/linux/>Linux</a></li><li><a href=http://localhost:1313/tags/zettelkasten/>Zettelkasten</a></li><li><a href=http://localhost:1313/tags/bash/>Bash</a></li><li><a href=http://localhost:1313/tags/system-administration/>System Administration</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/docker-container/><span class=title>¬´ Prev</span><br><span>Try it in a Docker Container! A Beginner‚Äôs Hands-On Guide </span></a><a class=next href=http://localhost:1313/posts/information-diet/><span class=title>Next ¬ª</span><br><span>Information Diet</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè' on x" href="https://x.com/intent/tweet/?text=Mini%20Howtos%20%27%ef%bc%bc%ef%bc%88%e3%80%87_%ef%bd%8f%ef%bc%89%ef%bc%8f%27&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fmini-howtos%2f&amp;hashtags=Linux%2cZettelkasten%2cBash%2cSystemAdministration"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè' on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fmini-howtos%2f&amp;title=Mini%20Howtos%20%27%ef%bc%bc%ef%bc%88%e3%80%87_%ef%bd%8f%ef%bc%89%ef%bc%8f%27&amp;summary=Mini%20Howtos%20%27%ef%bc%bc%ef%bc%88%e3%80%87_%ef%bd%8f%ef%bc%89%ef%bc%8f%27&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fmini-howtos%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè' on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fmini-howtos%2f&title=Mini%20Howtos%20%27%ef%bc%bc%ef%bc%88%e3%80%87_%ef%bd%8f%ef%bc%89%ef%bc%8f%27"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè' on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fmini-howtos%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè' on whatsapp" href="https://api.whatsapp.com/send?text=Mini%20Howtos%20%27%ef%bc%bc%ef%bc%88%e3%80%87_%ef%bd%8f%ef%bc%89%ef%bc%8f%27%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fmini-howtos%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè' on telegram" href="https://telegram.me/share/url?text=Mini%20Howtos%20%27%ef%bc%bc%ef%bc%88%e3%80%87_%ef%bd%8f%ef%bc%89%ef%bc%8f%27&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fmini-howtos%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Mini Howtos 'ÔººÔºà„Äá_ÔΩèÔºâÔºè' on ycombinator" href="https://news.ycombinator.com/submitlink?t=Mini%20Howtos%20%27%ef%bc%bc%ef%bc%88%e3%80%87_%ef%bd%8f%ef%bc%89%ef%bc%8f%27&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fmini-howtos%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/></a></span>¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>